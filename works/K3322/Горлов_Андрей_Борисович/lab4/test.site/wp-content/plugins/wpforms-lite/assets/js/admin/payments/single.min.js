const WPFormsPaymentsSingle=window.WPFormsPaymentsSingle||function(n,s,a){const i={init(){a(i.ready)},ready(){i.initTooltips(),i.paymentDeletionAlert(),i.actionButtons()},initTooltips(){void 0!==jQuery.fn.tooltipster&&jQuery(".wpforms-single-payment-tooltip").tooltipster({contentCloning:!0,theme:"borderless",contentAsHTML:!0,position:"top",maxWidth:500,multiple:!0,interactive:!0,debug:!1})},paymentDeletionAlert(){a(n).on("click",".wpforms-payment-actions .button-delete",function(n){n.preventDefault();const e=a(this).attr("href");a.confirm({title:wpforms_admin.heads_up,content:wpforms_admin_payments_single.payment_delete_confirm,icon:"fa fa-exclamation-circle",type:"orange",buttons:{confirm:{text:wpforms_admin.ok,btnClass:"btn-confirm",keys:["enter"],action(){s.location=e}},cancel:{text:wpforms_admin.cancel,keys:["esc"]}}})})},actionButtons(){a(n).on("click",".wpforms-payments-single-action",n=>{const e=a(n.currentTarget).data("gateway"),t=wpforms_admin.single_payment_button_handlers;if(t&&t.includes(e)){n.preventDefault();const s=a(n.currentTarget).data("action-id"),o=a(n.currentTarget).data("action-type");a.confirm({title:wpforms_admin.heads_up,content:i.strings[o].confirm,icon:"fa fa-exclamation-circle",type:"orange",buttons:{confirm:{text:wpforms_admin.ok,btnClass:"btn-confirm",keys:["enter"],action:()=>{i.sendActionRequest(s,e,o)}},cancel:{text:wpforms_admin.cancel,keys:["esc"]}}})}})},sendActionRequest(n,e,t){a.ajax({url:wpforms_admin.ajax_url,type:"POST",data:{action:"wpforms_"+e+"_payments_"+t,payment_id:n,nonce:wpforms_admin.nonce},dataType:"json",success:n=>{n.success?a.alert({title:wpforms_admin.success,content:i.strings[t].success,icon:"fa fa-check-circle",type:"green",buttons:{confirm:{text:wpforms_admin.close_refresh,btnClass:"btn-confirm",keys:["enter"],action:()=>{s.location.reload()}}}}):i.failedResponseAlert(n?.data?.modal_msg||"")},error:()=>{i.failedResponseAlert()}})},strings:{refund:{confirm:wpforms_admin_payments_single.payment_refund_confirm,success:wpforms_admin_payments_single.payment_refund_success},cancel:{confirm:wpforms_admin_payments_single.payment_cancel_confirm,success:wpforms_admin_payments_single.payment_cancel_success}},failedResponseAlert(n=""){a.alert({title:wpforms_admin.heads_up,content:""===n?wpforms_admin.try_again:n,icon:"fa fa-exclamation-circle",type:"red",buttons:{confirm:{text:wpforms_admin.ok,btnClass:"btn-confirm",keys:["enter"]}}})}};return i}(document,window,jQuery);WPFormsPaymentsSingle.init();