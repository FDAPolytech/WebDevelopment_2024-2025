const WPFormsSettingsStripe=window.WPFormsSettingsStripe||function(t,e){const o={},n={alertTitle:wpforms_admin.heads_up,alertContent:wpforms_admin_settings_stripe.mode_update,ok:wpforms_admin.ok,hideClassName:"wpforms-hide"},s={init(){e(s.ready)},ready(){s.setup(),s.bindEvents()},setup(){o.$wrapper=e(".wpforms-admin-content-payments"),o.$liveConnectionBlock=e(".wpforms-stripe-connection-status-live"),o.$testConnectionBlock=e(".wpforms-stripe-connection-status-test"),o.$testModeCheckbox=e("#wpforms-setting-stripe-test-mode"),o.copyButton=e("#wpforms-setting-row-stripe-webhooks-endpoint-set .wpforms-copy-to-clipboard"),o.webhookEndpointUrl=e("input#wpforms-stripe-webhook-endpoint-url"),o.webhookMethod=e('input[name="stripe-webhooks-communication"]')},bindEvents(){o.$wrapper.on("change","#wpforms-setting-stripe-test-mode",s.triggerModeSwitchAlert),o.copyButton.on("click",s.copyWebhooksEndpoint),o.webhookMethod.on("change",s.onMethodChange)},triggerModeSwitchAlert(){(o.$testModeCheckbox.is(":checked")?(o.$liveConnectionBlock.addClass(n.hideClassName),o.$testConnectionBlock):(o.$testConnectionBlock.addClass(n.hideClassName),o.$liveConnectionBlock)).removeClass(n.hideClassName),e("#wpforms-setting-row-stripe-connection-status .wpforms-connected").is(":visible")||e.alert({title:n.alertTitle,content:n.alertContent,icon:"fa fa-exclamation-circle",type:"orange",buttons:{confirm:{text:n.ok,btnClass:"btn-confirm",keys:["enter"]}}})},copyWebhooksEndpoint(e){e.preventDefault(),navigator.clipboard?navigator.clipboard.writeText(o.webhookEndpointUrl.val()).then(function(){o.copyButton.find("span").removeClass("dashicons-admin-page").addClass("dashicons-yes-alt")}):(o.webhookEndpointUrl.attr("disabled",!1).focus().select(),t.execCommand("copy"),o.copyButton.find("span").removeClass("dashicons-admin-page").addClass("dashicons-yes-alt"),o.webhookEndpointUrl.attr("disabled",!0))},onMethodChange(){var e=o.webhookMethod.filter(":checked").val(),e=wpforms_admin_settings_stripe.webhook_urls[e];o.webhookEndpointUrl.val(e)}};return s}(document,(window,jQuery));WPFormsSettingsStripe.init();